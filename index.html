<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>location_decode_using_geocode_API by yubeie</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">location_decode_using_geocode_API</h1>
      <h2 class="project-tagline">Script to use Google geocode API to perform a check and print the country location of any landmark.</h2>
      <a href="https://github.com/yubeie/Sample-Python-Code" class="btn">View on GitHub</a>
      <a href="https://github.com/yubeie/Sample-Python-Code/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/yubeie/Sample-Python-Code/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <pre><code>#http://maps.googleapis.com/maps/api/geocode/json?parameters
#parameters include: address or components AND key if any


import re
import urllib
import json

def country_code(str):
    search_url = 'http://maps.googleapis.com/maps/api/geocode/json?'
    final_url = search_url + urllib.urlencode({'address':str})
    url_handle = urllib.urlopen(final_url)
    data = url_handle.read()
    extracted_data = json.loads(data)
    pretty_data = json.dumps(extracted_data, indent=4)
    address_components = extracted_data['results'][0]['address_components']
    #print len(address_components)
    country_code = address_components[3]['short_name']
    print country_code

while True:
    try:
        loc = raw_input("Enter Location: ")
        str = str(loc)
        if str == 'quit':
            print 'exiting the program'
            break
        else:
            country_code(str)
            break
    except:
        print "Please enter valid location"
        continue
</code></pre>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/yubeie/Sample-Python-Code">location_decode_using_geocode_API</a> is maintained by <a href="https://github.com/yubeie">yubeie</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
